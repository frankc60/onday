/**
 * onday v.2.4.42
 * Â©2020 ISC
 * frankc60@gmail.com 
 * git+https://github.com/frankc60/onday.git
 * Build time: 26-Nov-2020 18:14:51
 */
const t=require("http");class onday{static _PRV_NOW_MONTH=(new Date).getMonth()+1;static _PRV_NOW_DAY=(new Date).getDate();static _init=(t,e)=>"number"==typeof t&&null!=typeof t?"day"==e?t<33&&t>0?t:onday._PRV_NOW_DAY:t>0&&t<13?t:onday._PRV_NOW_MONTH:null;constructor(t,e){this.d=onday._init(t,"day"),this.m=onday._init(e,"month"),this._d=0,this.months={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"}}static dateCheck=(t,e,r)=>{const a=new Date(t,+e-1,r);return Boolean(+a)&&a.getDate()==r};doy(t=onday._PRV_NOW_DAY,e=onday._PRV_NOW_MONTH){return new Promise((async(r,a)=>{try{const a=new Date,n=new Date(a.getFullYear(),e-1,t,1,0,1,0);let o=await Math.ceil((n-new Date(n.getFullYear(),0,1))/864e5);r({date:n,result:o})}catch(t){a(`Error 3: ${t}`)}}))}workoutdate(t=this.d,e=this.m){return new Promise(((r,a)=>{try{console.log("workoutdate for d,m"+t+","+e),(t=onday._init(t,"day"))&&(e=onday._init(e,"month"))||a(`2Error: invalid date values (${t}, ${e})`);const n=new Date,o=new Date(n.getFullYear(),e-1,t);r(`passed in (${t}, ${e}) ${n.getFullYear()} = ${o}, ${this.months[e-1]}`)}catch(t){a(t)}}))}check(e=this.d,r=this.m){return new Promise(((a,n)=>{onday.dateCheck((new Date).getFullYear(),r,e)?t.get(`http://numbersapi.com/${r}/${e}/date`,(t=>{let e="";t.on("data",(t=>{e+=t})),t.on("end",(()=>{/title\>Error/.test(e)?n(`Error 3:  eee ddd
              xxxxx
              bbbbb
              fff ${e}`):a(e)})),t.on("error",(t=>{n("Error 1:  "+t)}))})).on("error",(t=>{n("Error 2: "+t.message)})):n(`Error: invalid date values (${e}, ${r})`)}))}}module.exports=onday;const e=async(t,e)=>{try{let r=await(new onday).check(t,e);console.log(`contents: ${r}`),await new onday(t,e).workoutdate()}catch(t){console.error("catch:"+t)}};e(30,11);
